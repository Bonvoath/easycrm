(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74bc267a"],{"14b8":function(t,e,s){"use strict";var o=s("c288"),n=s.n(o);n.a},4154:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app flex-row align-items-center"},[s("div",{staticClass:"container"},[s("b-row",{staticClass:"justify-content-center"},[s("b-col",{attrs:{md:"4"}},[s("b-card-group",[s("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[s("b-card-body",[s("b-form",[s("h1",{staticClass:"text-center",staticStyle:{"font-weight":"600"}},[t._v("Sign In")]),s("h1",{staticClass:"text-center"},[s("img",{staticClass:"rounded",staticStyle:{width:"100%"},attrs:{src:"./img/logo.png",alt:"easy crm logo"}})]),s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"icon-user"})])],1),s("b-form-input",{staticClass:"font-bat",attrs:{type:"text",placeholder:t.holder.email},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.emailPressHandler(e)},focus:function(e){return t.holderFocus("email")},blur:function(e){t.holderBlur("email",t.$t("email"))}},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}})],1),s("b-input-group",{staticClass:"mb-4"},[s("b-input-group-prepend",[s("b-input-group-text",[s("i",{staticClass:"icon-lock"})])],1),s("b-form-input",{ref:"password",staticClass:"font-bat",attrs:{type:"password",placeholder:t.holder.password},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickLoginHandler(e)},focus:function(e){return t.holderFocus("password")},blur:function(e){t.holderBlur("password",t.$t("password"))}},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),s("b-row",[s("b-col",{attrs:{cols:"12 text-center"}},[s("b-button",{staticClass:"px-4 btn-sm btn-block font-kulen",attrs:{variant:"primary gold"},on:{click:t.clickLoginHandler}},[t._v(t._s(t.$t("sign_in")))])],1),s("br"),s("br")],1)],1)],1)],1)],1)],1)],1)],1)])},n=[],a=(s("0d03"),s("d3b7"),s("25f0"),s("3452")),r=s.n(a),i={name:"Login",data:function(){return{model:{email:"",password:""},holder:{email:this.$t("email"),password:this.$t("password")}}},created:function(){sessionStorage.removeItem("jwt"),sessionStorage.removeItem("jwt@user"),sessionStorage.removeItem("jwt@exp")},methods:{clickLoginHandler:function(){var t=this,e=this.$loading.show();this.$api().post("login",this.model).then((function(e){t.$isValid(e)&&(sessionStorage.setItem("jwt",r.a.AES.encrypt(e.data.token,"jwtaccess")),sessionStorage.setItem("jwt@user",r.a.AES.encrypt(e.data.data._id,"jwtaccess")),sessionStorage.setItem("jwt@exp",r.a.AES.encrypt(e.data.data.exp.toString(),"jwtaccess")),t.$router.push("/"))})).finally((function(){e.hide()}))},emailPressHandler:function(){this.$refs.password.focus()},holderFocus:function(t){this.holder[t]=""},holderBlur:function(t,e){this.holder[t]=e}}},l=i,c=(s("14b8"),s("2877")),d=Object(c["a"])(l,o,n,!1,null,"0458f3d8",null);e["default"]=d.exports},c288:function(t,e,s){}}]);
//# sourceMappingURL=chunk-74bc267a.6bc73ba0.js.map