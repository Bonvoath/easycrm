(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b5e34a8"],{"2e05":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticStyle:{background:"#fff"}},[s("div",{staticClass:"pull-left"},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb font-kulen"},[s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.$t("stage")))])])])]),s("div",{staticClass:"pull-right",staticStyle:{padding:"10px 15px"}},[s("SearchBox",{attrs:{fields:["Name","Phone","Email","Contact"]}})],1),s("div",{staticClass:"clearfix"})]),s("div",{staticClass:"content"},[s("div",{staticClass:"card card-list"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"toolbar"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:t.addNew}},[s("i",{staticClass:"fa fa-plus-circle",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("create")))])])]),s("div",{staticClass:"card-body"},[s("table",{staticClass:"table table-hover"},[t._m(0),s("tbody",t._l(t.list,(function(a){return s("tr",{key:a._id},[t._m(1,!0),s("td",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.update(a)}}},[t._v(t._s(a.name))])]),s("td",[t._v(t._s(a.description))]),s("td",[t._v(t._s(a.sort))])])})),0)])])])]),s("StageFormModal",{attrs:{id:"form",title:t.title,vmodel:t.model},on:{save:t.save}})],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",[s("input",{attrs:{type:"checkbox"}})]),s("th",[t._v("Stage Name")]),s("th",[t._v("Description")]),s("th",[t._v("Sort")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("td",[s("input",{attrs:{type:"checkbox"}})])}],o=(s("b0c0"),s("d3b7"),s("1157")),l=s.n(o),n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal x-modal fade",attrs:{tabindex:"-1",role:"dialog",id:t.id}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("span",{staticClass:"modal-title"},[t._v(t._s(t.titleBar))]),t._m(0)]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"label-control kh",attrs:{for:""}},[t._v("Name")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.model.name},on:{input:function(a){a.target.composing||t.$set(t.model,"name",a.target.value)}}})])])]),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"label-control kh",attrs:{for:""}},[t._v("Sort")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.sort,expression:"model.sort"}],staticClass:"form-control form-control-sm",attrs:{type:"number"},domProps:{value:t.model.sort},on:{input:function(a){a.target.composing||t.$set(t.model,"sort",a.target.value)}}})])])])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"label-control kh",attrs:{for:""}},[t._v("Description")]),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"}],staticClass:"form-control form-control-sm",domProps:{value:t.model.description},on:{input:function(a){a.target.composing||t.$set(t.model,"description",a.target.value)}}})])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.save}},[t._v("Save changes")])])])])])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],d={props:{id:{type:String},title:{type:String,default:"ADD NEW STAGE"},vmodel:{type:Object}},data:function(){return{titleBar:this.title,model:this.vmodel}},methods:{save:function(){this.$emit("save",this.model)}},watch:{title:function(t){this.titleBar=t},vmodel:{handler:function(t){this.model=t},deep:!0}}},c=d,m=s("2877"),u=Object(m["a"])(c,n,r,!1,null,null,null),v=u.exports,p={components:{StageFormModal:v},data:function(){return{list:[],title:"ADD NEW TAG",model:{sort:0,name:"",description:""},isUpdate:!1}},mounted:function(){this.toList(),l()("#form").modal({backdrop:!1,show:!1})},methods:{toList:function(){var t=this,a=this.$loading.show();this.$api().post("stage/list").then((function(a){t.$isValid(a)&&(t.list=a.data)})).finally((function(){a.hide()}))},addNew:function(){this.model={name:"",description:"",sort:this.list.length},l()("#form").modal("show")},update:function(t){this.model=JSON.parse(JSON.stringify(t)),this.isUpdate=!0,this.title="UPDATE STAGE ["+this.model.name+"]",l()("#form").modal("show")},save:function(t){var a=this;if(console.log(t),this.isUpdate){var s={_id:t._id,fields:t};this.$api().post("stage/update",s).then((function(t){a.$isValid(t)&&(a.toList(),l()("#form").modal("hide"))}))}else this.$api().post("stage/save",t).then((function(t){a.$isValid(t)&&(a.toList(),l()("#form").modal("hide"))}))}}},f=p,h=Object(m["a"])(f,e,i,!1,null,null,null);a["default"]=h.exports},b0c0:function(t,a,s){var e=s("83ab"),i=s("9bf2").f,o=Function.prototype,l=o.toString,n=/^\s*function ([^ (]*)/,r="name";!e||r in o||i(o,r,{configurable:!0,get:function(){try{return l.call(this).match(n)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-4b5e34a8.ecc03751.js.map